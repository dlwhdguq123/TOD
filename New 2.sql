SELECT * FROM CUSTOMERS;

ALTER TABLE CUSTOMERS RENAME COLUMN POSTALCODE TO POSTAL_CODE;

CREATE SEQUENCE IMGSEQ
    START WITH 1000
    INCREMENT BY 1;
    
CREATE TABLE IMAGE(
IMGSEQ INT PRIMARY KEY,  
IMGNAME VARCHAR2(15) NOT NULL,
IMGEXTENTION ,
OWNER VARCHAR2(15) NOT NULL
);

CREATE TABLE CUSTOMERS(
CUSTOMER_ID VARCHAR2(15) PRIMARY KEY, 
CUSTOMER_NAME VARCHAR2(15) NOT NULL,
PASSWORD VARCHAR2(15) NOT NULL,
SSN VARCHAR2(15) NOT NULL,
PHONE VARCHAR2(15) NOT NULL,
POSTAL_CODE VARCHAR2(60) NOT NULL,
CITY VARCHAR2(60) NOT NULL,
ADDRESS VARCHAR2(60) NOT NULL,
PHOTO VARCHAR2(60) DEFAULT 'default_photo'
);

--1. 현재 목록에서 ROWNUM을 추가한다

SELECT ROWNUM "NO.",C.*
FROM CUSTOMERS C; 

--2. ROWNUM을 역순으로 정렬한다.

SELECT ROWNUM RNUM ,C.*
FROM CUSTOMERS C
ORDER BY RNUM DESC; 

--3. 페이지사이즈(5)만큼만 출력한다

SELECT T.*
FROM (SELECT ROWNUM RNUM ,C.* 
        FROM CUSTOMERS C 
        ORDER BY ROWNUM DESC) T
WHERE T.RNUM BETWEEN 1 AND 31;

SELECT COUNT(*) AS COUNT FROM CUSTOMERS;

DELETE FROM CUSTOMERS
     WHERE PASSWORD = 123456 ;


SELECT T2.*
FROM (SELECT ROWNUM R2,T.* 
        FROM (SELECT ROWNUM RNUM, T.* 
        FROM CUSTOMERS C 
        ORDER BY RNUM DESC) T) T2
WHERE R2 BETWEEN 1 AND 5;

SELECT T2.*
FROM(SELECT ROWNUM R2,T.*
FROM (SELECT ROWNUM RNUM ,C.*
FROM CUSTOMERS C  
ORDER BY RNUM DESC) T) T2
WHERE R2 BETWEEN 1 AND 30 ;

SELECT CUSTOMER_ID,CUSTOMER_NAME,PHONE
FROM CUSTOMERS;

DELETE FROM CUSTOMERS
WHERE CUSTOMER_NAME LIKE '자자자';

UPDATE CUSTOMERS
SET PHOTO = '010-66310240'
WHERE CUSTOMER_ID = 'gusdn1231';


Commit;
